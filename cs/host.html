<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Common Sense - Host</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="icon" href="favicon.png" type="image/x-icon">
  <link rel="shortcut icon" href="favicon.png" type="image/x-icon">
  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
</head>
<body class="host">
  <div class="container">
    <header>
      <a href="https://jacobsargent.com/cs/cs.html">
        <h1>Common Sense</h1>
      </a>
    </header>
    
    <div id="setup-screen">
      <div id="game-settings">
        <div class="setting-group">
          <label for="rounds-slider">Total Rounds:</label>
          <div class="slider-container">
            <input type="range" id="rounds-slider" min="0" max="5" value="2" class="slider" 
                   aria-label="Select number of rounds" role="slider" aria-valuemin="0" aria-valuemax="5">
            <span id="rounds-value" class="slider-value" aria-live="polite"></span>
          </div>
        </div>
        <div class="setting-group">
          <label for="difficulty-slider">Difficulty:</label>
          <div class="slider-container">
            <input type="range" id="difficulty-slider" min="0" max="2" value="1" class="slider"
                   aria-label="Select difficulty level" role="slider" aria-valuemin="0" aria-valuemax="2">
            <span id="difficulty-value" class="slider-value" aria-live="polite">Medium</span>
          </div>
          <div id="difficulty-explainer" class="difficulty-explainer" aria-live="polite"></div>
        </div>
      </div>
      <button id="create-game" class="btn-primary" aria-describedby="game-settings">Create New Game</button>
      <div id="room-display" class="hidden" role="region" aria-labelledby="room-status">
        <h3 id="room-status">Room Code: <span id="room-code" class="highlight" aria-label="Room code"></span></h3>
        <p>Players: <span id="player-count" aria-label="Number of players">0</span></p>
        <div id="player-list" role="list" aria-label="Players in this game"></div>
        <div id="game-info" aria-label="Game settings">
          <p>Rounds: <span id="display-rounds" class="highlight"></span></p>
          <p>Difficulty: <span id="display-difficulty" class="highlight"></span></p>
        </div>
        <button id="start-game" class="btn-primary disabled" disabled aria-describedby="player-count">Start Game</button>
      </div>
    </div>

    <div id="game-screen" class="hidden">
      <div class="game-info-bubble">
        <div class="round-info">
          Round <span id="current-round-number">1</span> of <span id="total-rounds-display">5</span>
        </div>
      </div>
      <div id="question-display">
        <h2 id="current-question" class="question-text"></h2>
      </div>
      <div id="waiting-players">
        <h3>Waiting for players to answer...</h3>
        <ul id="player-status"></ul>
      </div>
      <div id="results-display" class="hidden">
        <h2 id="result-header"></h2>
        <div id="leaderboard"></div>
        <div id="next-round-status" class="hidden">
          <h3>Waiting for <span id="players-not-ready">0</span> players to continue...</h3>
          <ul id="player-ready-status"></ul>
        </div>
      </div>
      <div id="game-end" class="hidden">
        <div class="game-info-bubble">
          <h1 class="game-over-title">Final Standings</h1>
        </div>
        <div id="final-leaderboard"></div>
        <button id="new-game" class="btn-primary">Start New Game</button>
      </div>
    </div>
  </div>

  <script src="config.js"></script>
  <script src="rate-limiter.js"></script>
  <script src="common-sense-data.js"></script>
  <script src="host.js"></script>
</body>
</html>